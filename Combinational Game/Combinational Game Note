<Combinational Game Note>

- 4가지 조건을 만족하는 게임을 조합게임이라고 한다.
1. 두 사람이 턴을 번갈아가면서 게임을 한다.
2. 완벽한 정보를 가지고 있다.
3. 더 이상 움직일 수 없으면 이기는 경우 또는 지는 경우이다.
4. 게임을 어떻게 플레이해도 게임이 끝난다.

- 게임을 보통 위치로 이루어져 있다.

- 위치에 따라서 두 사람이 선택할 수 있는 방법이 다른 게임을 Partizan Game 이라고 한다.
- 위치에 상관없이 두 사람이 선택할 수 있는 방법이 같은 게임을 Impartial Game 이라고 한다.

- Impartial Game의 대표적인 예시는 돌게임이다.


================================돌게임================================
- 돌게임에는 두 플레이어 A,B가 있다.
- 돌 N개가 탁자 위에 있다.
- 한 번에 돌을 1,2,3개 가져갈 수 있고, 적어도 1개는 가져가야한다.
- A가 먼저 게임을 시작하고, 번갈아가면서 게임을 한다.
- 마지막 돌을 가져가는 사람이 이긴다.

- 마지막 돌을 가져가는 사람이 이기는 게임을 Normal Play Rule이라고 한다.
- 마지막 돌을 가져가는 사람이 지는 게임을 Misere Play Rule이라고 한다.

- 최적의 방법(Optimal)으로 게임을 진행하는 것은 자신이 이기게끔 게임을 하는 것을 의미한다.


1) 돌이 1,2,3개 남았으면 A가 이긴다.
2) 돌이 4개 남았으면 B가 이긴다.
3) 돌이 5,6,7개 남았으면 1,2,3개 가져가서 4개를 남게 만들 수 있기 때문에 A가 이긴다.
4) 돌이 8개 남았으면 어떻게 가져가도 5,6,7개 남기 때문에 A가 진다.
5) 돌이 4의 배수만큼 남았으면 A가 게임을 지고, 그 외의 경우에는 게임을 이긴다.

- P위치는 previous player가 이기는 위치, n위치는 next player가 이기는 위치이다.
- 모든 끝나는 위치는 p위치이다.
- 모든 n위치에서 적어도 하나는 p위치로 움직일 수 있다.
- 모든 p위치에서 모든 움직임은 n위치로 이동한다.


- 돌을 가져갈 수 있는 개수, 마지막 돌을 가져간 사람이 진다 등으로 조건을 바꾸어도 해석하는 방법은 동일하다.


- N의 범위가 너무 커서, DP 배열을 채워넣기 어려우면 규칙성을 직접 찾아서 나머지 연산을 통해 결과를 출력하게 할 수 있다.
- 규칙성의 증명은 수학적으로 증명할 수 있다.
- 지는 위치는 지는 위치에서 이동할 수 없어야한다는 성질을 이용하면 된다.


================================님게임================================
- 돌 더미 3개가 있다.
- 각 사람은 비어있지 않은 돌 더미를 하나 선택하고, 돌을 가져간다.(제한X)
- 마지막 돌을 제거한 사람이 게임을 이기게 된다.

- (0,0,0)은 지는 위치이다.
- (0,0,x)는 이기는 위치이다.(x>0)
- (0,1,1)은 지는 위치이다.
- (0,1,x)는 이기는 위치이다.(x>1)

- 3차원 다이나믹을 이용해서 풀 수 있지만, 굳이 그렇게 하지 않는다.
- 님게임은 돌의 개수를 xor한 결과가 0이면 지는 위치이다.

- 지는 위치에서는 이기는 위치로만 옮길 수 있으므로, 수가 감소한 후에 적어도 하나의 1은 0으로 변한다.
- 이기는 위치에서는 지는 위치로 옮기는 것이 항상 가능하다. 
= 1의 개수가 홀수인 열을 찾고, 해당 비트가 1인 수를 고른 후, 1을 0으로 바꾸고, 나머지 열의 0과 1을 모든 열의 1의 개수가 짝수가 되게 바꾸어주면 된다.

- 돌 더미가 N개이어도 xor연산만 하면 된다.